<section id="using-tripwire" xreflabel="Using Tripwire">
<title>Tripwire</title>

<para>
Tripwire is configured to automatically scan the files on your frontend
daily.
This is accomplished via <computeroutput>cron</computeroutput>.
To test the tripwire cron script, execute: 
</para>

<screen>
# /etc/cron.daily/tripwire
</screen>

<para>
A Tripwire tab on your cluster's home page will indicate that tripwire is
installed. 
<mediaobject>
    <imageobject>
        <imagedata fileref="images/twadded.png">
    </imageobject>
</mediaobject>

</para>


<para>
When the tripwire cron job runs, clicking on the tab will result will
bring up the most recent tripwire report and a set of monthly archives of 
previous reports
<mediaobject>
    <imageobject>
        <imagedata fileref="images/twreport.png">
    </imageobject>
</mediaobject>

</para>

<para>
When this cron script runs successfully, tripwire sends mail to root
(default). The cron script also creates a web page which shows the most recent
tripwire report and web-archives of previous reports.
</para>

<para>
To view the mail message, execute <computeroutput>mail</computeroutput>,
then hit return at the &amp; prompt.
You'll see a mail message that looks similar to:
</para>

<screen>
[root@rocks22 root]# mail
Mail version 8.1 6/6/93.  Type ? for help.
"/var/spool/mail/root": 1 message 1 new
&gt;N  1 root@rocks22.sdsc.ed  Thu May 20 22:37 210/8552  "Tripwire: Daily repor"
&amp; 
Message 1:
From root@rocks22.sdsc.edu  Thu May 20 22:37:42 2004
X-Original-To: root@rocks22.sdsc.edu
Delivered-To: root@rocks22.sdsc.edu
Date: Thu, 20 May 2004 22:37:41 GMT
From: root &lt;root@rocks22.sdsc.edu&gt;
To: root@rocks22.sdsc.edu
Subject: Tripwire: Daily report from rocks22.sdsc.edu

Parsing policy file: /opt/tripwire/etc/tw.pol
*** Processing Unix File System ***
Performing integrity check...
Wrote report file: /opt/tripwire/db/report/rocks22.sdsc.edu-20040520-223648.twr


Tripwire(R) 2.3.0 Integrity Check Report

Report generated by:          root
Report created on:            Thu 20 May 2004 10:36:48 PM GMT
Database last updated on:     Never

===============================================================================
Report Summary:
===============================================================================

Host name:                    rocks22.sdsc.edu
Host IP address:              127.0.0.1
Host ID:                      None
Policy file used:             /opt/tripwire/etc/tw.pol
Configuration file used:      /opt/tripwire/etc/tw.cfg
Database file used:           /opt/tripwire/db/rocks22.sdsc.edu.twd
Command line used:            /opt/tripwire/bin/tripwire --check --cfgfile /opt/
tripwire/etc/tw.cfg 
</screen>

<section id="using-tripwire-mail" xreflabel="Changing Mail Address">
<title>Changing the Target Email Address</title>

<para>
To have tripwire email its report to a different email address. Simply
run the 
<computeroutput>rocks set tripwire mail address1 [address2]</computeroutput>.
For example, say you want to email the tripwire reports to go to
<computeroutput>wopr@wargames.org</computeroutput> and 
<computeroutput>root</computeroutput>.
</para>

<screen>
rocks set tripwire mail wopr@wargames.org root@`hostname`
</screen>

<para>
To view the set of addresses for the Tripwire Daily Report
</para>

<screen>
rocks list tripwire mail
</screen>

</section>

</section>

